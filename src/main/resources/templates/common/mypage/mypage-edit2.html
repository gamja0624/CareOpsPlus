<!DOCTYPE html>
<!-- /*@author 노태윤
@editDate 2024-09-23~2024-09-24*/ -->
<html xmlns:th="http://www.thymleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>CareOps+ | 회원 정보 수정</title>
		<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
		<link th:href="@{/css/web-settings.css}" rel="stylesheet">
		
		<style type="text/css">
		.layout-table {
			padding: 40px;
			background-color: #fff;
			border-radius: 10px;
			overflow: auto;
			display: flex;
			flex-direction: column;
			align-items: center;
		}
		
		.info-container {
			text-align: center;
			display: flex;
			flex-direction: column;
			gap: 30px;
			width: 60%;
		}
		
		.info-row {
			display: flex;
			align-items: center;
			gap: 10px;
		}
		
		label {
			font-weight: 500;
			color: #666;
			font-size: 23px;
			width: 150px;
			text-align: left;
			white-space: nowrap;
		}
		
		.info-field {
			flex: 1;
			padding: 10px;
			margin-bottom: 15px;
			border-radius: 4px;
			border: 1px solid #13254C;
			background-color: #13254C;
			color: #fff;
			font-size: 20px;
			box-sizing: border-box;
		}
		
		.btn {
			padding: 12px;
			background-color: #13254C;
			color: white;
			font-size: 18px;
			border: none;
			border-radius: 4px;
			cursor: pointer;
			transition: background-color 0.3s;
			width: 48%;
		}
		
		hr {
			width: 60%;
			margin: 2rem 0;
			background-color: #000;
			height: 1px;
			border: 0;
		}
		
		.btn:hover {
			background-color: #1a3366;
		}
		
		.btn-container {
			width: 60%;
			display: flex;
			justify-content: space-between;
			margin-top: 30px;
		}
		</style>
	</head>

	<body>
		<!-- 사이드바 -->
		<th:block th:replace="~{/common/side-bar}"></th:block>
		
    <!-- 컨텐츠 영역 -->
    <div class="content">
        <div class="section">
            <h1 class="title">내 정보 수정</h1>
            <form th:action="@{/update-info}" method="post" th:object="${user}">
    <input type="hidden" name="id" th:value="${user != null ? (userType == 'admin' ? user.adminId : user.managerId) : ''}"/>
    <input type="hidden" name="userType" th:value="${userType}"/>
    <div class="layout-table">
        <hr>
        <div class="info-container">
            <div class="info-row">
                <label for="department">부서명</label>
                <input type="text" id="department" class="info-field" 
                       th:value="${user != null ? (userType == 'admin' ? user.adminDeptName : user.managerDeptName) : ''}" 
                       readonly>
            </div>
            <div class="info-row">
                <label for="name">이름</label>
                <input type="text" id="name" name="name" class="info-field" required
                       th:value="${user != null ? (userType == 'admin' ? user.adminName : user.managerName) : ''}">
            </div>
            <div class="info-row">
                <label for="phone">연락처</label>
                <input type="text" id="phone" name="phoneNumber" class="info-field" required
                       th:value="${user != null ? (userType == 'admin' ? user.adminPhoneNumber : user.managerPhoneNumber) : ''}">
            </div>
        </div>
        <hr>
        <div class="btn-container">
            <button type="button" class="btn" onclick="window.location.href='/mypage2'">뒤로가기</button>
            <button type="submit" class="btn">회원 정보 수정</button>
        </div>
    </div>
</form>
        </div>
    </div>
    <script th:src="@{/js/bootstrap.bundle.min.js}"></script>
</body>
</html>
