<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org"> 
	<head>
		<meta charset="UTF-8">
		<!-- title 지정 -->
		<title>CareOps+ | 담당자 변경 </title>
		<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
		<link th:href="@{/css/web-settings.css}" rel="stylesheet">
		
		<style type="text/css">
			.form-whole-cover { width: 600px; margin: 100px  auto; display: flex; font-weight: 600; font: 25px; }
	   	.form-group { margin-bottom: 24px; }
			.warning { width: 400px; margin: 1px auto -20px auto; color: red; font-size: 16px; }
	   	.label-style { margin-bottom: 5px; margin-right: 8px; width: 80px; }
	   	.input-style { width: 400px; padding: 10px; border: 1px solid #ccc; border-radius: 5px; background-color: #13254C; margin-left: auto; color: #FFF; }
			.edit-style { width: 400px; padding: 10px; border: 1px solid #13254C; border-radius: 5px; background-color: #FFF; margin-left: auto; color: #13254C; }
	   	.button-cover { width: 600px; margin-top: 50px; text-align: center; }
	   	.account-button { color: white; background-color: #13254C; cursor: pointer; width: 120px; height: 40px; margin-right: 10px; }
	  	.account-button:hover { border: 1px solid #13254C; color: #13254C; background-color: white; }
			.srh-button { margin-left: 15px; }
		</style>
	</head>

	<body>
		<!-- 사이드바 -->
		<th:block th:replace="~{/common/side-bar}"></th:block>
		
		<!-- 컨텐츠 영역 -->
		<div class="content">
			
			<!-- section -->
			<div class="section">
				<!-- 제목 -->
				<h1 class="title">담당자  <img alt="이동" th:src="@{/img/icon-next-b.png}" class="title-next"> 변경</h1>
						<div class="layout-table">
							<div class="form-whole-cover">
								<form id="registration-form" class="registration-form" action="/admin/account-edit-complete" method="post">
					        <div class="form-group">
				            <label class="label-style" for="department">부 &nbsp;서&nbsp; 명</label>
				            <input class="input-style" type="text" id="managerDeptName" name="managerDeptName"  th:value="${manager.managerDeptName}" readonly>
					        </div>
					        <div class="form-group">
				            <label class="label-style" for="name">이 &nbsp; &nbsp; &nbsp; 름</label>
				            <input class="edit-style" type="text" id="managerName" name="managerName" th:value="${manager.managerName}" required >
					        </div>
					        <div class="form-group">
				            <label class="label-style" for="managerPhoneNumber">연 &nbsp;락&nbsp; 처</label>
				            <input class="edit-style" type="text" id="managerPhoneNumber" name="managerPhoneNumber" maxlength="15" th:value="${manager.managerPhoneNumber}" oninput="formatPhoneNumber(this)" required>
										<div class="warning" id="phoneWarning" style="display:none;">전화번호는 15자리를 초과할 수 없습니다.</div>
									</div>
					        <div class="form-group">
				            <label class="label-style" for="userId">아 &nbsp;이&nbsp; 디</label>
				            <input class="input-style" type="text" id="managerId" name="managerId" th:value="${manager.managerId}" readonly>
					        </div>
					        <div class="form-group">
				            <label class="label-style" for="password">비 밀 번 호</label>
				            <input class="input-style" type="password" id="managerPassword" name="managerPassword" th:value="${manager.managerPassword}" readonly>
					        </div>
									<div class="button-cover">
						      	<button class="btn account-button" type="button" onclick="location.href='/admin/account-list'">목록으로</button>
						      	<button class="btn account-button" type="submit" >변경 완료</button>
									</div>
					   		</form>
							</div>
							
							</div>
						</div>
					</div>
				</div>
			</div>
		
		<script th:src="@{/js/bootstrap.bundle.min.js}" ></script>
		<script>
			
			// [ 연락처 형식 포맷 ]
			function formatPhoneNumber(input) {
			 
				let value = input.value.replace(/\D/g, '');

			  if (value.length === 11) {
			      input.value = value.replace(/(\d{3})(\d{4})(\d{4})/, '$1-$2-$3');
			  } else if (value.length >= 7 && value.length <11 ) {
			      input.value = value.replace(/(\d{3})(\d{3})(\d{4})/, '$1-$2-$3');
						phoneWarning.style.display = 'none';
			  } else if (value.length === 15) {
						phoneWarning.style.display = 'block';
			  } else {
			      input.value = value;
				}
			}
		</script>
	</body>
</html>